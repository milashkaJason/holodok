const spinner=document.querySelector(".ymap-container").children[0];let check_if_load=!1;function init(){const e=new ymaps.Map("map",{center:[53.839902,27.544869],zoom:17}),n=new ymaps.GeoObject({geometry:{type:"Point",coordinates:[53.839902,27.544869]}});e.geoObjects.add(n),waitForTilesLoad(e.layers.get(0).get(0)).then(function(){spinner.classList.remove("is-active")})}function waitForTilesLoad(e){return new ymaps.vow.Promise(function(n,t){let a=getTileContainer(e),o=!0;a.tiles.each(function(e,n){e.isReady()||(o=!1)}),o?n():a.events.once("ready",function(){n()})})}function getTileContainer(e){for(var n in e)if(e.hasOwnProperty(n)&&(e[n]instanceof ymaps.layer.tileContainer.CanvasContainer||e[n]instanceof ymaps.layer.tileContainer.DomContainer))return e[n];return null}function loadScript(e,n){const t=document.createElement("script");t.readyState?t.onreadystatechange=function(){"loaded"!==t.readyState&&"complete"!==t.readyState||(t.onreadystatechange=null,n())}:t.onload=function(){n()},t.src=e,document.getElementsByTagName("head")[0].appendChild(t)}const ymap=function(){document.querySelector(".ymap-container").addEventListener("mouseenter",function(){check_if_load||(check_if_load=!0,spinner.classList.add("is-active"),loadScript("https://api-maps.yandex.ru/2.1/?apikey=c31d9a3b-860a-41f0-b8fb-708a953e14c3&lang=ru_RU",function(){ymaps.load(init)}))})};document.querySelector(".ymap-container").addEventListener("mouseenter",function(){check_if_load||(check_if_load=!0,spinner.classList.add("is-active"),loadScript("https://api-maps.yandex.ru/2.1/?apikey=c31d9a3b-860a-41f0-b8fb-708a953e14c3&lang=ru_RU",function(){ymaps.load(init)}))}),document.addEventListener("DOMContentLoaded",function(){var e;if("IntersectionObserver"in window){e=document.querySelectorAll(".lazy");var n=new IntersectionObserver(function(e,t){e.forEach(function(e){if(e.isIntersecting){var t=e.target;t.classList.remove("lazy"),n.unobserve(t)}})});e.forEach(function(e){n.observe(e)})}else{var t;function a(){t&&clearTimeout(t),t=setTimeout(function(){var n=window.pageYOffset;e.forEach(function(e){e.offsetTop<window.innerHeight+n&&(e.src=e.dataset.src,e.classList.remove("lazy"))}),0==e.length&&(document.removeEventListener("scroll",a),window.removeEventListener("resize",a),window.removeEventListener("orientationChange",a))},20)}e=document.querySelectorAll(".lazy"),document.addEventListener("scroll",a),window.addEventListener("resize",a),window.addEventListener("orientationChange",a)}});